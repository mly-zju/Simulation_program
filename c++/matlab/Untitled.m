sys_tx=zeros(1,10);
sys_collison=zeros(1,10);
sys_succceed=zeros(1,10);
sys_throughput=zeros(1,10);
sys_delay=zeros(1,10);
zigbee_tx=zeros(1,10);
zigbee_collison=zeros(1,10);
zigbee_succceed=zeros(1,10);
zigbee_throughput=zeros(1,10);
zigbee_delay=zeros(1,10);
wifi_tx=zeros(1,10);
wifi_collison=zeros(1,10);
wifi_succceed=zeros(1,10);
wifi_throughput=zeros(1,10);
wifi_delay=zeros(1,10);

sys_tx2=zeros(1,10);
sys_collison2=zeros(1,10);
sys_succceed2=zeros(1,10);
sys_throughput2=zeros(1,10);
sys_delay2=zeros(1,10);
zigbee_tx2=zeros(1,10);
zigbee_collison2=zeros(1,10);
zigbee_succceed2=zeros(1,10);
zigbee_throughput2=zeros(1,10);
zigbee_delay2=zeros(1,10);
wifi_tx2=zeros(1,10);
wifi_collison2=zeros(1,10);
wifi_succceed2=zeros(1,10);
wifi_throughput2=zeros(1,10);
wifi_delay2=zeros(1,10);

x=20:10:110;
sys_tx=[1413776 1680150 1880350 1994126 2123288 2239246 2366332 2421418 2486409 2559022];
sys_tx2=[1138537 1401989 1538589 1675713 1766854 1845123 1952005 2023722 2091203 2147873];
sys_collision=[136799 231903 342284 426530 537233 628362 726528 809878 891785 980987];
sys_collision2=[63085 106551 150076 198365 251240 295706 362873 414265 475378 539325];
sys_collision_p=sys_collision./sys_tx;
sys_collision_p2=sys_collision2./sys_tx2;
sys_throughput=[1.06788 1.25818 1.3485 1.37315 1.38667 1.40662 ... 
    1.4261 1.40357 1.37548 1.34952];
sys_throughput2=[0.992636 1.18772 1.25575 1.32786 1.35395 1.37548 ...
    1.40513 1.41751 1.41782 1.40439];
sys_throughput=sys_throughput*10000./160;
sys_throughput2=sys_throughput2*10000./160;
mean_tx=zeros(1,10);
mean_tx2=zeros(1,10);
mean_tx=(sys_tx-sys_collision)./x;
mean_tx2=(sys_tx-sys_collision2)./x;
sys_delay=160000./mean_tx;
sys_delay2=160000./mean_tx2;
figure(1);
hold on;
grid on;
plot(x,sys_collision_p,'-*r');
plot(x,sys_collision_p2,'-ob');
legend('system without TDM','system with TDM','location','northwest');
xlabel('Number of clients');
ylabel('collision probability');
figure(2);
hold on;
grid on;
%stem(x,sys_throughput,'r','LineStyle','none');
%stem(x,sys_throughput2,'b^','LineStyle','none');
plot(x,sys_throughput,'-*r');
plot(x,sys_throughput2,'-ob');
xlabel('Number of clients');
ylabel('Throughput (Mbps/s)');
legend('system without TDM','system with TDM','location','northwest');
axis([20 110 60 100]);
figure(3);
hold on;
grid on;
plot(x,sys_delay,'-*r');
plot(x,sys_delay2,'-ob');
legend('system without TDM','system with TDM','location','northwest');
xlabel('Number of clients');
ylabel('Delay (ms)');